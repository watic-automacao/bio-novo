!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Button=e():t.Button=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=4)}([function(t,e,n){var r=n(5),i=n(6),a=n(7);t.exports=function(t){return r(t)||i(t)||a()}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){var r,i,a;i=[e,n(0),n(1),n(2),n(8),n(9),n(10)],void 0===(a="function"==typeof(r=function(t,e,r,i,a,o,s){"use strict";var u=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=u(e),r=u(r),i=u(i),o=u(o);var c=function(){function t(e){var n=e.data,i=e.config,s=e.api;(0,r.default)(this,t),this.api=s,this.config=i,this.config.label=i.label||"Button",this.config.classes=i.classes||["button"],this.config.target=i.target||a.TargetOptionsEnum.SELF,this._DOMService=new o.default,this._data=Object.assign({label:this.config.label,target:this.config.target},n),this._tuneSettings=[{title:"centered",icon:'<svg width="15" height="15" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="align-center" class="svg-inline--fa fa-align-center fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"></path></svg>'},{title:"stretched",icon:'<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"/></svg>'},{title:"large",icon:'<svg width="15" height="15" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="expand" class="svg-inline--fa fa-expand fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"></path></svg>'}]}return(0,i.default)(t,[{key:"render",value:function(){var t=this;this._container=this._DOMService.make("div",[this.CSS.baseClass,this.CSS.container]);var n=this._DOMService.makeButton(this._data.label||this.config.label,[this.CSS.buttonEl].concat((0,e.default)(this.config.classes))),r=this._DOMService.make("div",[this.CSS.formEl]),i=this._DOMService.makeInput("url",this._data.url||"","https://...",[this.CSS.input,this.CSS.inputEl,"url"]),o=this._DOMService.makeInput("label",this._data.label||this.config.label,this.config.label,[this.CSS.input,this.CSS.inputEl,"button-label"]),s=this._DOMService.makeSelect("target",Object.values(a.TargetOptionsEnum),this._data.target||this.config.target,[this.CSS.input,this.CSS.selectEl,"target"]);return this._container.classList.add("button-container"),this._container.appendChild(n),this._container.appendChild(r),r.appendChild(i),r.appendChild(o),r.appendChild(s),this._tuneSettings.forEach(function(e){t._data[e.title]&&t._container.classList.add(e.title)}),i.addEventListener("keyup",function(){t._updateData(i,"url")}),o.addEventListener("keyup",function(){t._updateData(o,"label"),n.innerText=o.value}),s.addEventListener("change",function(){t._updateData(s,"target")}),this._container}},{key:"save",value:function(){return this._saveData=Object.assign({label:"",url:"",target:""},this._data),this._saveData}},{key:"validate",value:function(t){return!!t.url.trim()&&!!t.label.trim()}},{key:"renderSettings",value:function(){var t=this,e=this._DOMService.make("div",[]);return this._tuneSettings.forEach(function(n){var r=t._DOMService.make("div",["cdx-settings-button"]);void 0!==t._data[n.title]&&r.classList.toggle("cdx-settings-button--active",t._data[n.title]),r.innerHTML=n.icon,e.appendChild(r),r.addEventListener("click",function(){t._toggleTune(n.title),r.classList.toggle("cdx-settings-button--active")})}),e}},{key:"_updateData",value:function(t,e){this._data[e]=t.value}},{key:"_toggleTune",value:function(t){this._data[t]=!this._data[t],this._acceptTuneView()}},{key:"_acceptTuneView",value:function(){var t=this;this._tuneSettings.forEach(function(e){t._container.classList.toggle(e.title,!!t._data[e.title])})}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"button-container",buttonEl:"button-container__button",formEl:"button-container__form",inputEl:"button-container__form__input",selectEl:"button-container__form__select"}}},{key:"saveData",get:function(){return this._saveData}}],[{key:"toolbox",get:function(){return{title:"Button",icon:'<svg width="13" height="14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="external-link-square-alt" class="svg-inline--fa fa-external-link-square-alt fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-88 16H248.029c-21.313 0-32.08 25.861-16.971 40.971l31.984 31.987L67.515 364.485c-4.686 4.686-4.686 12.284 0 16.971l31.029 31.029c4.687 4.686 12.285 4.686 16.971 0l195.526-195.526 31.988 31.991C358.058 263.977 384 253.425 384 231.979V120c0-13.255-10.745-24-24-24z"></path></svg>'}}}]),t}();t.default=c})?r.apply(e,i):r)||(t.exports=a)},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){var r,i,a;i=[e],void 0===(a="function"==typeof(r=function(t){"use strict";var e;Object.defineProperty(t,"__esModule",{value:!0}),t.TargetOptionsEnum=void 0,t.TargetOptionsEnum=e,function(t){t.SELF="_self",t.BLANK="_blank",t.PARENT="_parent",t.TOP="_top"}(e||(t.TargetOptionsEnum=e={}))})?r.apply(e,i):r)||(t.exports=a)},function(t,e,n){var r,i,a;i=[e,n(0),n(1),n(2)],void 0===(a="function"==typeof(r=function(t,e,r,i){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=a(e),r=a(r),i=a(i);var o=function(){function t(){(0,r.default)(this,t)}return(0,i.default)(t,[{key:"make",value:function(t,e){var n=document.createElement(t);return this.mapClasses(n,e),n}},{key:"makeButton",value:function(t,e){var n=document.createElement("button");return n.innerText=t,this.mapClasses(n,e),n}},{key:"makeInput",value:function(t,e,n,r){var i=document.createElement("input");return i.name=t,i.value=e,i.placeholder=n,this.mapClasses(i,r),i}},{key:"makeSelect",value:function(t,e,n,r){var i=this,a=document.createElement("select");return this.mapClasses(a,r),e.map(function(t){a.appendChild(i.makeOption(t,t,n))}),a}},{key:"makeOption",value:function(t,e,n){var r=document.createElement("option");return r.innerText=e,r.value=t,r.selected=t===n,r}},{key:"mapClasses",value:function(t,n){var r;(r=t.classList).add.apply(r,(0,e.default)(n))}}]),t}();t.default=o})?r.apply(e,i):r)||(t.exports=a)},function(t,e,n){var r=n(11);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(13)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(12)(!1)).push([t.i,".button-container__button {\n  margin-bottom: 15px;\n}\n\n.button-container__form {\n  display: flex;\n}\n\n.button-container__form__input {\n  margin: 0 5px 15px;\n}\n\n.button-container__form__select {\n  height: 36px;\n  margin: 0 5px 15px;\n}\n\n.button-container.centered .button-container__button {\n  display: block;\n  margin: 0 auto 15px;\n}\n\n.button-container.stretched .button-container__button {\n  width: 100%\n}\n\n.button-container.large .button-container__button {\n  display: block;\n  font-size: 200%;\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(a).concat([i]).join("\n")}var o;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){var r,i,a={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,c=0,l=[],f=n(14);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=a[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(m(r.parts[o],e))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(m(r.parts[o],e));a[r.id]={id:r.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i],o=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function h(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function b(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),g(e,t.attrs),h(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function m(t,e){var n,r,i,a;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}if(e.singleton){var o=c++;n=u||(u=b(e)),r=x.bind(null,n,o,!1),i=x.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),h(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||a)&&(r=f(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return p(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var o=n[i];(s=a[o.id]).refs--,r.push(s)}t&&p(d(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete a[s.id]}}}};var y,_=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function x(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}}]).default});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CdXR0b24vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0J1dHRvbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9CdXR0b24vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qcyIsIndlYnBhY2s6Ly9CdXR0b24vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9CdXR0b24vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9CdXR0b24vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiLCJ3ZWJwYWNrOi8vQnV0dG9uLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL0J1dHRvbi8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovL0J1dHRvbi8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2l0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9CdXR0b24vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9ub25JdGVyYWJsZVNwcmVhZC5qcyIsIndlYnBhY2s6Ly9CdXR0b24vLi9zcmMvZW51bXMvVGFyZ2V0T3B0aW9uc0VudW0udHMiLCJ3ZWJwYWNrOi8vQnV0dG9uLy4vc3JjL3NlcnZpY2VzL0RPTVNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vQnV0dG9uLy4vc3JjL2luZGV4LmNzcz85M2QzIiwid2VicGFjazovL0J1dHRvbi8uL3NyYy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vQnV0dG9uLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovL0J1dHRvbi8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly9CdXR0b24vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJhcnJheVdpdGhvdXRIb2xlcyIsIml0ZXJhYmxlVG9BcnJheSIsIm5vbkl0ZXJhYmxlU3ByZWFkIiwiYXJyIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJvYmoiLCJkZWZhdWx0IiwiQnV0dG9uIiwiX3JlZiIsImRhdGEiLCJjb25maWciLCJhcGkiLCJfY2xhc3NDYWxsQ2hlY2syIiwidGhpcyIsImxhYmVsIiwiY2xhc3NlcyIsIl9UYXJnZXRPcHRpb25zRW51bSIsIlRhcmdldE9wdGlvbnNFbnVtIiwiU0VMRiIsIl9ET01TZXJ2aWNlIiwiX2RhdGEiLCJhc3NpZ24iLCJfdHVuZVNldHRpbmdzIiwidGl0bGUiLCJpY29uIiwiX3RoaXMiLCJfY29udGFpbmVyIiwibWFrZSIsIkNTUyIsImJhc2VDbGFzcyIsImNvbnRhaW5lciIsImJ1dHRvbiIsIm1ha2VCdXR0b24iLCJidXR0b25FbCIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJmb3JtV3JhcHBlciIsImZvcm1FbCIsInVybElucHV0IiwibWFrZUlucHV0IiwidXJsIiwiaW5wdXQiLCJpbnB1dEVsIiwibGFiZWxJbnB1dCIsInRhcmdldFNlbGVjdCIsIm1ha2VTZWxlY3QiLCJ2YWx1ZXMiLCJzZWxlY3RFbCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwiZm9yRWFjaCIsInR1bmUiLCJhZGRFdmVudExpc3RlbmVyIiwiX3VwZGF0ZURhdGEiLCJpbm5lclRleHQiLCJfc2F2ZURhdGEiLCJzYXZlZERhdGEiLCJ0cmltIiwiX3RoaXMyIiwid3JhcHBlciIsInRvZ2dsZSIsImlubmVySFRNTCIsIl90b2dnbGVUdW5lIiwiZWxlbWVudCIsIl9hY2NlcHRUdW5lVmlldyIsIl90aGlzMyIsInN0eWxlcyIsImJsb2NrIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJyMiIsIml0ZXIiLCJpdGVyYXRvciIsInRvU3RyaW5nIiwiZnJvbSIsIl9leHBvcnRzIiwiRE9NU2VydmljZSIsInR5cGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJtYXBDbGFzc2VzIiwicGxhY2Vob2xkZXIiLCJvcHRpb25zIiwic2VsZWN0ZWQiLCJzZWxlY3QiLCJtYXAiLCJtYWtlT3B0aW9uIiwib3B0aW9uIiwiX2VsZW1lbnQkY2xhc3NMaXN0IiwiYXBwbHkiLCJjb250ZW50IiwiaG1yIiwidHJhbnNmb3JtIiwiaW5zZXJ0SW50byIsInVuZGVmaW5lZCIsImxvY2FscyIsInB1c2giLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwiaXRlbSIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJpZCIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImFsbCIsImF0b2IiLCJhcmd1bWVudHMiLCJnZXRFbGVtZW50Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiYXR0cnMiLCJhZGRBdHRycyIsImVsIiwia2V5cyIsInNldEF0dHJpYnV0ZSIsInVwZGF0ZSIsInJlbW92ZSIsInJlc3VsdCIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCIkMSIsInRlc3QiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELE9BQUEsR0FBQUgsR0FDQSxpQkFBQUMsUUFDQUEsUUFBQSxPQUFBRCxJQUVBRCxFQUFBLE9BQUFDLElBUkEsQ0FTQ0ssT0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVAsUUFHQSxJQUFBQyxFQUFBSSxFQUFBRSxHQUFBLENBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVQsUUFBQSxJQVVBLE9BTkFVLEVBQUFILEdBQUFJLEtBQUFWLEVBQUFELFFBQUFDLElBQUFELFFBQUFNLEdBR0FMLEVBQUFRLEdBQUEsRUFHQVIsRUFBQUQsUUEwREEsT0FyREFNLEVBQUFNLEVBQUFGLEVBR0FKLEVBQUFPLEVBQUFSLEVBR0FDLEVBQUFRLEVBQUEsU0FBQWQsRUFBQWUsRUFBQUMsR0FDQVYsRUFBQVcsRUFBQWpCLEVBQUFlLElBQ0FHLE9BQUFDLGVBQUFuQixFQUFB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dW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJCdXR0b25cIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiQnV0dG9uXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwidmFyIGFycmF5V2l0aG91dEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRob3V0SG9sZXNcIik7XG5cbnZhciBpdGVyYWJsZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVNwcmVhZCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlU3ByZWFkXCIpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3RvQ29uc3VtYWJsZUFycmF5OyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICBcImRlZmF1bHRcIjogb2JqXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdDsiLCJpbXBvcnQgeyBCbG9ja0NvbnRlbnQgfSBmcm9tICcuL2ludGVyZmFjZXMvQmxvY2tDb250ZW50JztcbmltcG9ydCB7IEJ1dHRvbkNvbmZpZyB9IGZyb20gJy4vaW50ZXJmYWNlcy9CdXR0b25Db25maWcnO1xuaW1wb3J0IHsgQ3NzIH0gZnJvbSAnLi9pbnRlcmZhY2VzL0Nzcyc7XG5pbXBvcnQgeyBUb29sYm94U2V0dGluZ3MgfSBmcm9tICcuL2ludGVyZmFjZXMvVG9vbGJveFNldHRpbmdzJztcbmltcG9ydCB7IFRhcmdldE9wdGlvbnNFbnVtIH0gZnJvbSAnLi9lbnVtcy9UYXJnZXRPcHRpb25zRW51bSc7XG5pbXBvcnQgRE9NU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL0RPTVNlcnZpY2UnO1xuXG4vKipcbiAqIEJ1aWxkIHN0eWxlc3NcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxuLyoqXG4gKiBDbGFzcyBmb3IgQnV0dG9uIHRvb2wgZm9yIHRoZSBbRWRpdG9yLmpzXShodHRwczovL2NvZGV4LnNvL2VkaXRvcikuLlxuICogQWxsb3dzIHRvIGFkZCBhIGJ1dHRvbiBsaW5rIHRvIGEgZ2l2ZW4gdXJsLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJ1dHRvblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b24ge1xuICBwcm90ZWN0ZWQgY29uZmlnOiBCdXR0b25Db25maWc7XG4gIHByb3RlY3RlZCByZWFkb25seSBhcGk7IC8vIFRPRE8gZmluZCBvdXQgd2hhdCB0eXBlIGl0IGlzXG4gIHByaXZhdGUgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgX0RPTVNlcnZpY2U6IERPTVNlcnZpY2U7XG4gIHByaXZhdGUgX3NhdmVEYXRhOiBCbG9ja0NvbnRlbnQ7XG4gIHByaXZhdGUgX3R1bmVTZXR0aW5nczogVG9vbGJveFNldHRpbmdzW107XG4gIHByaXZhdGUgcmVhZG9ubHkgX2RhdGE6IEJsb2NrQ29udGVudDtcblxuICAvKipcbiAgICogQHBhcmFtIHt7ZGF0YTogQnV0dG9uRGF0YSwgY29uZmlnOiBCdXR0b25Db25maWcsIGFwaTogb2JqZWN0fX1cbiAgICogICBkYXRhIOKAlCBwcmV2aW91c2x5IHNhdmVkIGRhdGFcbiAgICogICBjb25maWcgLSB1c2VyIGNvbmZpZyBmb3IgVG9vbFxuICAgKiAgIGFwaSAtIEVkaXRvci5qcyBBUElcbiAgICovXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcih7IGRhdGEsIGNvbmZpZywgYXBpIH0pIHtcbiAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLmNvbmZpZy5sYWJlbCA9IGNvbmZpZy5sYWJlbCB8fCAnQnV0dG9uJztcbiAgICB0aGlzLmNvbmZpZy5jbGFzc2VzID0gY29uZmlnLmNsYXNzZXMgfHwgWyAnYnV0dG9uJyBdO1xuICAgIHRoaXMuY29uZmlnLnRhcmdldCA9IGNvbmZpZy50YXJnZXQgfHwgVGFyZ2V0T3B0aW9uc0VudW0uU0VMRjtcbiAgICB0aGlzLl9ET01TZXJ2aWNlID0gbmV3IERPTVNlcnZpY2UoKTtcblxuICAgIHRoaXMuX2RhdGEgPSB7IGxhYmVsOiB0aGlzLmNvbmZpZy5sYWJlbCwgdGFyZ2V0OiB0aGlzLmNvbmZpZy50YXJnZXQsIC4uLmRhdGEgfTtcblxuICAgIHRoaXMuX3R1bmVTZXR0aW5ncyA9IFtcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdjZW50ZXJlZCcsXG4gICAgICAgIGljb246ICc8c3ZnIHdpZHRoPVwiMTVcIiBoZWlnaHQ9XCIxNVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGZvY3VzYWJsZT1cImZhbHNlXCIgZGF0YS1wcmVmaXg9XCJmYXNcIiBkYXRhLWljb249XCJhbGlnbi1jZW50ZXJcIiBjbGFzcz1cInN2Zy1pbmxpbmUtLWZhIGZhLWFsaWduLWNlbnRlciBmYS13LTE0XCIgcm9sZT1cImltZ1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDQ0OCA1MTJcIj48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00MzIgMTYwSDE2YTE2IDE2IDAgMCAwLTE2IDE2djMyYTE2IDE2IDAgMCAwIDE2IDE2aDQxNmExNiAxNiAwIDAgMCAxNi0xNnYtMzJhMTYgMTYgMCAwIDAtMTYtMTZ6bTAgMjU2SDE2YTE2IDE2IDAgMCAwLTE2IDE2djMyYTE2IDE2IDAgMCAwIDE2IDE2aDQxNmExNiAxNiAwIDAgMCAxNi0xNnYtMzJhMTYgMTYgMCAwIDAtMTYtMTZ6TTEwOC4xIDk2aDIzMS44MUExMi4wOSAxMi4wOSAwIDAgMCAzNTIgODMuOVY0NC4wOUExMi4wOSAxMi4wOSAwIDAgMCAzMzkuOTEgMzJIMTA4LjFBMTIuMDkgMTIuMDkgMCAwIDAgOTYgNDQuMDlWODMuOUExMi4xIDEyLjEgMCAwIDAgMTA4LjEgOTZ6bTIzMS44MSAyNTZBMTIuMDkgMTIuMDkgMCAwIDAgMzUyIDMzOS45di0zOS44MUExMi4wOSAxMi4wOSAwIDAgMCAzMzkuOTEgMjg4SDEwOC4xQTEyLjA5IDEyLjA5IDAgMCAwIDk2IDMwMC4wOXYzOS44MWExMi4xIDEyLjEgMCAwIDAgMTIuMSAxMi4xelwiPjwvcGF0aD48L3N2Zz4nXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ3N0cmV0Y2hlZCcsXG4gICAgICAgIGljb246ICc8c3ZnIHdpZHRoPVwiMTdcIiBoZWlnaHQ9XCIxMFwiIHZpZXdCb3g9XCIwIDAgMTcgMTBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMy41NjggNS45MjVINC4wNTZsMS43MDMgMS43MDNhMS4xMjUgMS4xMjUgMCAwIDEtMS41OSAxLjU5MUwuOTYyIDYuMDE0QTEuMDY5IDEuMDY5IDAgMCAxIC41ODggNC4yNkw0LjM4LjQ2OWExLjA2OSAxLjA2OSAwIDAgMSAxLjUxMiAxLjUxMUw0LjA4NCAzLjc4N2g5LjYwNmwtMS44NS0xLjg1YTEuMDY5IDEuMDY5IDAgMSAxIDEuNTEyLTEuNTFsMy43OTIgMy43OTFhMS4wNjkgMS4wNjkgMCAwIDEtLjQ3NSAxLjc4OEwxMy41MTQgOS4xNmExLjEyNSAxLjEyNSAwIDAgMS0xLjU5LTEuNTkxbDEuNjQ0LTEuNjQ0elwiLz48L3N2Zz4nXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ2xhcmdlJyxcbiAgICAgICAgaWNvbjogJzxzdmcgd2lkdGg9XCIxNVwiIGhlaWdodD1cIjE1XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgZm9jdXNhYmxlPVwiZmFsc2VcIiBkYXRhLXByZWZpeD1cImZhc1wiIGRhdGEtaWNvbj1cImV4cGFuZFwiIGNsYXNzPVwic3ZnLWlubGluZS0tZmEgZmEtZXhwYW5kIGZhLXctMTRcIiByb2xlPVwiaW1nXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNDQ4IDUxMlwiPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTAgMTgwVjU2YzAtMTMuMyAxMC43LTI0IDI0LTI0aDEyNGM2LjYgMCAxMiA1LjQgMTIgMTJ2NDBjMCA2LjYtNS40IDEyLTEyIDEySDY0djg0YzAgNi42LTUuNCAxMi0xMiAxMkgxMmMtNi42IDAtMTItNS40LTEyLTEyek0yODggNDR2NDBjMCA2LjYgNS40IDEyIDEyIDEyaDg0djg0YzAgNi42IDUuNCAxMiAxMiAxMmg0MGM2LjYgMCAxMi01LjQgMTItMTJWNTZjMC0xMy4zLTEwLjctMjQtMjQtMjRIMzAwYy02LjYgMC0xMiA1LjQtMTIgMTJ6bTE0OCAyNzZoLTQwYy02LjYgMC0xMiA1LjQtMTIgMTJ2ODRoLTg0Yy02LjYgMC0xMiA1LjQtMTIgMTJ2NDBjMCA2LjYgNS40IDEyIDEyIDEyaDEyNGMxMy4zIDAgMjQtMTAuNyAyNC0yNFYzMzJjMC02LjYtNS40LTEyLTEyLTEyek0xNjAgNDY4di00MGMwLTYuNi01LjQtMTItMTItMTJINjR2LTg0YzAtNi42LTUuNC0xMi0xMi0xMkgxMmMtNi42IDAtMTIgNS40LTEyIDEydjEyNGMwIDEzLjMgMTAuNyAyNCAyNCAyNGgxMjRjNi42IDAgMTItNS40IDEyLTEyelwiPjwvcGF0aD48L3N2Zz4nXG4gICAgICB9XG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZpbmUgdGhlIHRvb2xib3ggdGl0bGUgYW5kIGljb25cbiAgICpcbiAgICogQHJldHVybiBUb29sYm94U2V0dGluZ3NcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0IHRvb2xib3goKTogVG9vbGJveFNldHRpbmdzIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6ICdCdXR0b24nLFxuICAgICAgLy8gaWNvbjogJzxzdmcgd2lkdGg9XCIxM1wiIGhlaWdodD1cIjE0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNOC41NjcgMTMuNjI5Yy43MjguNDY0IDEuNTgxLjY1IDIuNDEuNTU4bC0uODczLjg3M0EzLjcyMiAzLjcyMiAwIDEgMSA0Ljg0IDkuNzk0TDYuNjk0IDcuOTRhMy43MjIgMy43MjIgMCAwIDEgNS4yNTYtLjAwOEwxMC40ODQgOS40YTUuMjA5IDUuMjA5IDAgMCAxLS4wMTcuMDE2IDEuNjI1IDEuNjI1IDAgMCAwLTIuMjkuMDA5bC0xLjg1NCAxLjg1NGExLjYyNiAxLjYyNiAwIDAgMCAyLjI0NCAyLjM1em0yLjc2Ni03LjM1OGEzLjcyMiAzLjcyMiAwIDAgMC0yLjQxLS41NThsLjg3My0uODczYTMuNzIyIDMuNzIyIDAgMSAxIDUuMjY0IDUuMjY2bC0xLjg1NCAxLjg1NGEzLjcyMiAzLjcyMiAwIDAgMS01LjI1Ni4wMDhMOS40MTYgMTAuNWE1LjIgNS4yIDAgMCAxIC4wMTctLjAxNiAxLjYyNSAxLjYyNSAwIDAgMCAyLjI5LS4wMDlsMS44NTQtMS44NTRhMS42MjYgMS42MjYgMCAwIDAtMi4yNDQtMi4zNXpcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTMuNjY3IC0yLjcpXCIvPjwvc3ZnPidcbiAgICAgIGljb246ICc8c3ZnIHdpZHRoPVwiMTNcIiBoZWlnaHQ9XCIxNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGZvY3VzYWJsZT1cImZhbHNlXCIgZGF0YS1wcmVmaXg9XCJmYXNcIiBkYXRhLWljb249XCJleHRlcm5hbC1saW5rLXNxdWFyZS1hbHRcIiBjbGFzcz1cInN2Zy1pbmxpbmUtLWZhIGZhLWV4dGVybmFsLWxpbmstc3F1YXJlLWFsdCBmYS13LTE0XCIgcm9sZT1cImltZ1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDQ0OCA1MTJcIj48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00NDggODB2MzUyYzAgMjYuNTEtMjEuNDkgNDgtNDggNDhINDhjLTI2LjUxIDAtNDgtMjEuNDktNDgtNDhWODBjMC0yNi41MSAyMS40OS00OCA0OC00OGgzNTJjMjYuNTEgMCA0OCAyMS40OSA0OCA0OHptLTg4IDE2SDI0OC4wMjljLTIxLjMxMyAwLTMyLjA4IDI1Ljg2MS0xNi45NzEgNDAuOTcxbDMxLjk4NCAzMS45ODdMNjcuNTE1IDM2NC40ODVjLTQuNjg2IDQuNjg2LTQuNjg2IDEyLjI4NCAwIDE2Ljk3MWwzMS4wMjkgMzEuMDI5YzQuNjg3IDQuNjg2IDEyLjI4NSA0LjY4NiAxNi45NzEgMGwxOTUuNTI2LTE5NS41MjYgMzEuOTg4IDMxLjk5MUMzNTguMDU4IDI2My45NzcgMzg0IDI1My40MjUgMzg0IDIzMS45NzlWMTIwYzAtMTMuMjU1LTEwLjc0NS0yNC0yNC0yNHpcIj48L3BhdGg+PC9zdmc+J1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHRoZSBIVE1MIGNvbnRlbnQgb2YgdGhlIGJ1dHRvbiBibG9ja1xuICAgKlxuICAgKiBAcmV0dXJuIEhUTUxFbGVtZW50XG4gICAqL1xuICBwdWJsaWMgcmVuZGVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9ET01TZXJ2aWNlLm1ha2UoJ2RpdicsIFt0aGlzLkNTUy5iYXNlQ2xhc3MsIHRoaXMuQ1NTLmNvbnRhaW5lcl0pO1xuICAgIGNvbnN0IGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9ET01TZXJ2aWNlLm1ha2VCdXR0b24odGhpcy5fZGF0YS5sYWJlbCB8fCB0aGlzLmNvbmZpZy5sYWJlbCwgW3RoaXMuQ1NTLmJ1dHRvbkVsLCAuLi50aGlzLmNvbmZpZy5jbGFzc2VzXSk7XG4gICAgY29uc3QgZm9ybVdyYXBwZXI6IEhUTUxFbGVtZW50ID0gdGhpcy5fRE9NU2VydmljZS5tYWtlKCdkaXYnLCBbIHRoaXMuQ1NTLmZvcm1FbCBdKTtcbiAgICBjb25zdCB1cmxJbnB1dDogSFRNTElucHV0RWxlbWVudCA9IHRoaXMuX0RPTVNlcnZpY2UubWFrZUlucHV0KCd1cmwnLCB0aGlzLl9kYXRhLnVybCB8fCAnJywgJ2h0dHBzOi8vLi4uJywgW3RoaXMuQ1NTLmlucHV0LCB0aGlzLkNTUy5pbnB1dEVsLCAndXJsJ10pO1xuICAgIGNvbnN0IGxhYmVsSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSB0aGlzLl9ET01TZXJ2aWNlLm1ha2VJbnB1dCgnbGFiZWwnLCB0aGlzLl9kYXRhLmxhYmVsIHx8IHRoaXMuY29uZmlnLmxhYmVsLCB0aGlzLmNvbmZpZy5sYWJlbCwgW3RoaXMuQ1NTLmlucHV0LCB0aGlzLkNTUy5pbnB1dEVsLCAnYnV0dG9uLWxhYmVsJ10pO1xuICAgIGNvbnN0IHRhcmdldFNlbGVjdDogSFRNTFNlbGVjdEVsZW1lbnQgPSB0aGlzLl9ET01TZXJ2aWNlLm1ha2VTZWxlY3QoJ3RhcmdldCcsIE9iamVjdC52YWx1ZXMoVGFyZ2V0T3B0aW9uc0VudW0pLCB0aGlzLl9kYXRhLnRhcmdldCB8fCB0aGlzLmNvbmZpZy50YXJnZXQsIFt0aGlzLkNTUy5pbnB1dCwgdGhpcy5DU1Muc2VsZWN0RWwsICd0YXJnZXQnXSk7XG5cbiAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYnV0dG9uLWNvbnRhaW5lcicpO1xuXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGZvcm1XcmFwcGVyKTtcbiAgICBmb3JtV3JhcHBlci5hcHBlbmRDaGlsZCh1cmxJbnB1dCk7XG4gICAgZm9ybVdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWxJbnB1dCk7XG4gICAgZm9ybVdyYXBwZXIuYXBwZW5kQ2hpbGQodGFyZ2V0U2VsZWN0KTtcblxuICAgIHRoaXMuX3R1bmVTZXR0aW5ncy5mb3JFYWNoKCh0dW5lKTogdm9pZCA9PiB7XG4gICAgICBpZiAodGhpcy5fZGF0YVt0dW5lLnRpdGxlXSkge1xuICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCh0dW5lLnRpdGxlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVybElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5fdXBkYXRlRGF0YSh1cmxJbnB1dCwgJ3VybCcpO1xuICAgIH0pO1xuXG4gICAgbGFiZWxJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpOiB2b2lkID0+IHtcbiAgICAgIHRoaXMuX3VwZGF0ZURhdGEobGFiZWxJbnB1dCwgJ2xhYmVsJyk7XG4gICAgICBidXR0b24uaW5uZXJUZXh0ID0gbGFiZWxJbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHRhcmdldFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLl91cGRhdGVEYXRhKHRhcmdldFNlbGVjdCwgJ3RhcmdldCcpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3NpZ24gZm9ybSBkYXRhIHRvIF9zYXZlZERhdGEgcHJvcGVydHlcbiAgICpcbiAgICogQHJldHVybiBCbG9ja0NvbnRlbnRcbiAgICovXG4gIHB1YmxpYyBzYXZlKCk6IEJsb2NrQ29udGVudCB7XG4gICAgY29uc3QgZGF0YTogQmxvY2tDb250ZW50ID0ge1xuICAgICAgbGFiZWw6ICcnLFxuICAgICAgdXJsOiAnJyxcbiAgICAgIHRhcmdldDogJydcbiAgICB9O1xuXG4gICAgdGhpcy5fc2F2ZURhdGEgPSBPYmplY3QuYXNzaWduKGRhdGEsIHRoaXMuX2RhdGEpO1xuICAgIHJldHVybiB0aGlzLl9zYXZlRGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZpbmUgdGhlIGNzcyBjbGFzc2VzIGZvciB0aGUgYnV0dG9uIGJsb2NrIGVsZW1lbnRzXG4gICAqXG4gICAqIEByZXR1cm4gQ3NzXG4gICAqL1xuICBwdWJsaWMgZ2V0IENTUygpOiBDc3Mge1xuICAgIHJldHVybiB7XG4gICAgICBiYXNlQ2xhc3M6IHRoaXMuYXBpLnN0eWxlcy5ibG9jayxcbiAgICAgIGlucHV0OiB0aGlzLmFwaS5zdHlsZXMuaW5wdXQsXG5cbiAgICAgIC8qKlxuICAgICAgICogQnV0dG9uJ3MgY2xhc3Nlc1xuICAgICAgICovXG4gICAgICBjb250YWluZXI6ICdidXR0b24tY29udGFpbmVyJyxcbiAgICAgIGJ1dHRvbkVsOiAnYnV0dG9uLWNvbnRhaW5lcl9fYnV0dG9uJyxcbiAgICAgIGZvcm1FbDogJ2J1dHRvbi1jb250YWluZXJfX2Zvcm0nLFxuICAgICAgaW5wdXRFbDogJ2J1dHRvbi1jb250YWluZXJfX2Zvcm1fX2lucHV0JyxcbiAgICAgIHNlbGVjdEVsOiAnYnV0dG9uLWNvbnRhaW5lcl9fZm9ybV9fc2VsZWN0J1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgVG9vbHNgcyBkYXRhXG4gICAqXG4gICAqIEByZXR1cm5zIHtCdXR0b25EYXRhfSBDdXJyZW50IGRhdGFcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgZ2V0IHNhdmVEYXRhKCk6IEJsb2NrQ29udGVudCB7XG4gICAgcmV0dXJuIHRoaXMuX3NhdmVEYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIHVzZXIgaW5wdXRcbiAgICpcbiAgICogQHBhcmFtIHNhdmVkRGF0YVxuICAgKi9cbiAgcHVibGljIHZhbGlkYXRlKHNhdmVkRGF0YTogQmxvY2tDb250ZW50KTogYm9vbGVhbiB7XG4gICAgaWYgKCFzYXZlZERhdGEudXJsLnRyaW0oKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghc2F2ZWREYXRhLmxhYmVsLnRyaW0oKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBibG9jayBzZXR0aW5nc1xuICAgKlxuICAgKiBAcmV0dXJuIEhUTUxFbGVtZW50XG4gICAqL1xuICBwdWJsaWMgcmVuZGVyU2V0dGluZ3MoKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLl9ET01TZXJ2aWNlLm1ha2UoJ2RpdicsIFtdKTtcblxuICAgIHRoaXMuX3R1bmVTZXR0aW5ncy5mb3JFYWNoKCh0dW5lKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSB0aGlzLl9ET01TZXJ2aWNlLm1ha2UoJ2RpdicsIFsgJ2NkeC1zZXR0aW5ncy1idXR0b24nIF0pO1xuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2RhdGFbdHVuZS50aXRsZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdjZHgtc2V0dGluZ3MtYnV0dG9uLS1hY3RpdmUnLCB0aGlzLl9kYXRhW3R1bmUudGl0bGVdKTtcbiAgICAgIH1cbiAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSB0dW5lLmljb247XG4gICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlVHVuZSh0dW5lLnRpdGxlKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2NkeC1zZXR0aW5ncy1idXR0b24tLWFjdGl2ZScpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgZGF0YSBvYmplY3QgZm9yIGdpdmVuIGtleSB3aXRoIGdpdmVuIGh0bWwgZWxlbWVudCB2YWx1ZVxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudFxuICAgKiBAcGFyYW0ga2V5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIF91cGRhdGVEYXRhKGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudCwga2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9kYXRhW2tleV0gPSBlbGVtZW50LnZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENsaWNrIG9uIHRoZSBTZXR0aW5ncyBCdXR0b25cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR1bmUg4oCUIHR1bmUgbmFtZSBmcm9tIHRoaXMuc2V0dGluZ3NcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgX3RvZ2dsZVR1bmUodHVuZSk6IHZvaWQge1xuICAgIHRoaXMuX2RhdGFbdHVuZV0gPSAhdGhpcy5fZGF0YVt0dW5lXTtcbiAgICB0aGlzLl9hY2NlcHRUdW5lVmlldygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBzcGVjaWZpZWQgY2xhc3MgY29ycmVzcG9uZHMgd2l0aCBhY3RpdmF0ZWQgdHVuZXNcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgX2FjY2VwdFR1bmVWaWV3KCk6IHZvaWQge1xuICAgIHRoaXMuX3R1bmVTZXR0aW5ncy5mb3JFYWNoKCh0dW5lKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSh0dW5lLnRpdGxlLCAhIXRoaXMuX2RhdGFbdHVuZS50aXRsZV0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyMltpXSA9IGFycltpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhvdXRIb2xlczsiLCJmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5OyIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVNwcmVhZDsiLCJleHBvcnQgZW51bSBUYXJnZXRPcHRpb25zRW51bSB7XG4gIFNFTEYgPSAnX3NlbGYnLFxuICBCTEFOSyA9ICdfYmxhbmsnLFxuICBQQVJFTlQgPSAnX3BhcmVudCcsXG4gIFRPUCA9ICdfdG9wJyxcbn1cbiIsIi8qKlxuICogSGVscGVyIGNsYXNzIGZvciBjcmVhdGluZyBhbiBtYW5pcHVsYXRpb24gZG9tIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERPTVNlcnZpY2Uge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHR5cGVcbiAgICogQHBhcmFtIGNsYXNzZXNcbiAgICovXG4gIHB1YmxpYyBtYWtlKHR5cGU6IHN0cmluZywgY2xhc3Nlcz86IHN0cmluZ1tdKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcblxuICAgIHRoaXMubWFwQ2xhc3NlcyhlbGVtZW50LCBjbGFzc2VzKTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gbGFiZWxcbiAgICogQHBhcmFtIGNsYXNzZXNcbiAgICovXG4gIHB1YmxpYyBtYWtlQnV0dG9uKGxhYmVsOiBzdHJpbmcsIGNsYXNzZXM/OiBzdHJpbmdbXSk6IEhUTUxCdXR0b25FbGVtZW50IHtcbiAgICBjb25zdCBidXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBidXR0b24uaW5uZXJUZXh0ID0gbGFiZWw7XG4gICAgdGhpcy5tYXBDbGFzc2VzKGJ1dHRvbiwgY2xhc3Nlcyk7XG5cbiAgICByZXR1cm4gYnV0dG9uO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lXG4gICAqIEBwYXJhbSBwbGFjZWhvbGRlclxuICAgKiBAcGFyYW0gY2xhc3Nlc1xuICAgKi9cbiAgcHVibGljIG1ha2VJbnB1dChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHBsYWNlaG9sZGVyOiBzdHJpbmcsIGNsYXNzZXM/OiBzdHJpbmdbXSk6IEhUTUxJbnB1dEVsZW1lbnQge1xuICAgIGNvbnN0IGlucHV0OiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgIGlucHV0Lm5hbWUgPSBuYW1lO1xuICAgIGlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgaW5wdXQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcblxuICAgIHRoaXMubWFwQ2xhc3NlcyhpbnB1dCwgY2xhc3Nlcyk7XG5cbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIG5hbWVcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIHNlbGVjdGVkXG4gICAqIEBwYXJhbSBjbGFzc2VzXG4gICAqL1xuICBwdWJsaWMgbWFrZVNlbGVjdChuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IHN0cmluZ1tdLCBzZWxlY3RlZDogc3RyaW5nLCBjbGFzc2VzPzogc3RyaW5nW10pOiBIVE1MU2VsZWN0RWxlbWVudCB7XG4gICAgY29uc3Qgc2VsZWN0OiBIVE1MU2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuXG4gICAgdGhpcy5tYXBDbGFzc2VzKHNlbGVjdCwgY2xhc3Nlcyk7XG4gICAgb3B0aW9ucy5tYXAoKHZhbHVlKTogdm9pZCA9PiB7XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQodGhpcy5tYWtlT3B0aW9uKHZhbHVlLCB2YWx1ZSwgc2VsZWN0ZWQpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKiBAcGFyYW0gbGFiZWxcbiAgICogQHBhcmFtIHNlbGVjdGVkXG4gICAqL1xuICBwdWJsaWMgbWFrZU9wdGlvbih2YWx1ZTogc3RyaW5nLCBsYWJlbDogc3RyaW5nLCBzZWxlY3RlZDogc3RyaW5nKTogSFRNTE9wdGlvbkVsZW1lbnQge1xuICAgIGNvbnN0IG9wdGlvbjogSFRNTE9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcblxuICAgIG9wdGlvbi5pbm5lclRleHQgPSBsYWJlbDtcbiAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICBvcHRpb24uc2VsZWN0ZWQgPSB2YWx1ZSA9PT0gc2VsZWN0ZWQ7XG5cbiAgICByZXR1cm4gb3B0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50XG4gICAqIEBwYXJhbSBjbGFzc2VzXG4gICAqL1xuICBwcml2YXRlIG1hcENsYXNzZXMoZWxlbWVudCwgY2xhc3Nlczogc3RyaW5nW10pOiB2b2lkIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XG4gIH1cbn1cbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTYtMiEuL2luZGV4LmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS02LTIhLi9pbmRleC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTYtMiEuL2luZGV4LmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmJ1dHRvbi1jb250YWluZXJfX2J1dHRvbiB7XFxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xcbn1cXG5cXG4uYnV0dG9uLWNvbnRhaW5lcl9fZm9ybSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4uYnV0dG9uLWNvbnRhaW5lcl9fZm9ybV9faW5wdXQge1xcbiAgbWFyZ2luOiAwIDVweCAxNXB4O1xcbn1cXG5cXG4uYnV0dG9uLWNvbnRhaW5lcl9fZm9ybV9fc2VsZWN0IHtcXG4gIGhlaWdodDogMzZweDtcXG4gIG1hcmdpbjogMCA1cHggMTVweDtcXG59XFxuXFxuLmJ1dHRvbi1jb250YWluZXIuY2VudGVyZWQgLmJ1dHRvbi1jb250YWluZXJfX2J1dHRvbiB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG1hcmdpbjogMCBhdXRvIDE1cHg7XFxufVxcblxcbi5idXR0b24tY29udGFpbmVyLnN0cmV0Y2hlZCAuYnV0dG9uLWNvbnRhaW5lcl9fYnV0dG9uIHtcXG4gIHdpZHRoOiAxMDAlXFxufVxcblxcbi5idXR0b24tY29udGFpbmVyLmxhcmdlIC5idXR0b24tY29udGFpbmVyX19idXR0b24ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBmb250LXNpemU6IDIwMCU7XFxufVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9